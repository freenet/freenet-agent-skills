{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "bash -c 'if [[ -n \"$FREENET_HOOK_RUNNING\" ]]; then exit 0; fi; command=\"$(echo \"$STDIN\" | jq -r \".tool_input.command // empty\")\"; if [[ \"$command\" == *\"git commit\"* && -f Cargo.toml ]]; then echo \"ğŸ” Running pre-commit checks...\"; export FREENET_HOOK_RUNNING=1; if ! cargo fmt --check 2>&1; then echo \"âŒ Formatting check failed. Run: cargo fmt\"; exit 1; fi; if ! cargo clippy --all-targets --all-features -- -D warnings 2>&1; then echo \"âŒ Clippy check failed. Fix warnings above.\"; exit 1; fi; echo \"âœ… Pre-commit checks passed\"; fi'"
          }
        ]
      }
    ]
  }
}
